---
nav_title: Talon.One
article_title: Talon.One
alias: /partners/talonone/
description: "This article outlines the partnership between Braze and Talon.One, a promotion engine that allows you to launch contextual 1-to-1 coupon, referral, discount, and loyalty campaigns quickly and efficiently."
page_type: partner
search_tag: Partner

---

# Talon.One

> [Talon.One](https://talon.one/) provides personalized incentives for your mobile marketing CRM and gives you the ability to launch contextual 1-to-1 coupon, referral, discount, and loyalty campaigns quickly and efficiently.

The Braze and Talon.One integration can help take your loyalty or coupon program to the next level by sending codes generated by Talon.One to your audience through Braze Connected Content.

## Prerequisites

| Requirement | Description |
| ----------- | ----------- |
|Talon.One account | A Talon.One account is required to take advantage of this partnership. |
|Talon.One API key | In Talon.One, under **Settings** > **Developer Settings**, create a Braze 3rd party API key for the integration. |
{: .reset-td-br-1 .reset-td-br-2}

{% alert warning %}
Talon.One **_requires_** a rate limit of 500 messages per minute. This rate limit can be [modified]({{site.baseurl}}/user_guide/engagement_tools/campaigns/testing_and_more/rate-limiting/#delivery-speed-rate-limiting) in the Braze dashboard.
{% endalert %}

## Integration

### Step 1: Set up coupons in Talon.One

On the Talon.One platform, navigate to your campaign's coupon code generator found under **Campaign > Settings > Coupon Code generator**. This generator will provide the fields necessary to include in the Talon.One `/braze/coupon` endpoint. 

![]({% image_buster /assets/img/talonone_coupon_settings.png %})

#### Endpoint usage

A custom `/braze/coupon` Talon.One endpoint must be used to convert the Talon.One data to strings. This endpoint contains the following built-in properties:

| Parameter | Description |
| ---- | ---- |
| `DeploymentURL` | (Required) The base URL of your Talon.One deployment. |
| `ApplicationID` | (Required) The ID of the application in Talon.One. |
| `CampaignID` | (Required) The ID of the campaign in Talon.One. |
| `Identifier` | (Required) The identifier of the request. Read below for more information. Must be a string.<br><br>Providing a new value creates a new coupon. Providing an existing value retrieves the existing coupon of that id.
| `IntegrationID` | The integration ID of the customer. When specified, only that customer will be able to use the coupon. |
| `StartDate` | The start date of the coupon. |
| `ExpiryDate` | The expiry date of the coupon. |
| `UsageLimit` | The usage limit of the coupon. 1 by default. |
| `ValidCharacters` | The list of allowed characters to be used when generating the code. Example: ["A","B","C","1","2"]. |
| `CouponPattern` | The coupon pattern to use. Use # to represent a random character picked in the valid character set. For example, "SUMMER-####". |
| `Attributes` | Object containing all the coupon attributes to set on the coupon. |
{: .reset-td-br-1 .reset-td-br-2}

{% alert important %}
`Identifier` parameter
The `Identifier` parameter should be set to a Braze variable such as `message_api_id`, `variant_api_id`, or [`dispatch_id`]({{site.baseurl}}/help/help_articles/data/dispatch_id#dispatch-id-behavior).
{% endalert %}

{% tabs %}
{% tab Required properties %}
**Example 1: Only required properties**

```bash
curl https://integration.talon.one/braze/coupon \
 -X POST \
 -H 'Authorization: ApiKey-v1 [YOUR_API_KEY]' \
 -d '{
    "DeploymentURL": "company.talon.one",
    "ApplicationID": 270,
    "CampaignID": 3882,
    "Identifier": "my_id",
}'
```
{% endtab %}
{% tab Custom Attributes %}
**Example 2: Custom attributes**

Custom attributes can also be passed in the body.

```bash
curl https://integration.talon.one/braze/coupon \
 -X POST \
 -H 'Authorization: ApiKey-v1 [YOUR_API_KEY]' \
 -d '{
    "DeploymentURL": "company.talon.one",
    "ApplicationID": 270,
    "CampaignID": 3882,
    "Identifier": "my_id",
    "StartDate": "2021-12-01T15:04:05Z",
    "ExpiryDate": "2021-12-01T15:04:05Z",
    "ValidCharacters": ["A","B","C","1","2"],
    "CouponPattern": "COUPON-#####-SUMMER",
    "Attributes":
    {
       "email": "john.doe@example.com"
    }
}'
```
{% endtab %}
{% endtabs %}

**Response example**
```bash
{
  "ID": 12821149,
  "ApplicationID": 270,
  "CampaignID": 3882,
  "Value": "SUMMER-9LKN-3UD9",
  "StartDate": "2021-12-01T15:04:05Z",
  "ExpiryDate": "2021-12-01T15:04:05Z",
  "RecipientIntegrationID": null,
  "UsageLimit": 1,
  "UsageCounter": 0,
  "Attributes": {}
}
```

### Step 2: Create a Talon.One Connected Content call

Use Braze [Connected Content]({{site.baseurl}}/user_guide/personalization_and_dynamic_content/connected_content/about_connected_content/) to trigger the Talon.One coupon creation event. Place and update the following code snippet in your campaign or Canvas message body to call Talon.One coupons into your message. 

{% raw %}
```liquid
{% capture postbody %}
{"deploymentURL": "mycompany.europe-west1.talon.one", "applicationID":270, "campaignID":882, "identifier":"{{campaign.${dispatch_id}}}", "integrationID":"{{${user_id}}}"}
{% endcapture %}

{{postbody}}
{% connected_content https://integration.talon.one/braze/coupon
   :headers {
      "Authorization": "ApiKey-v1 ..."
   }
   :method post
   :body {{postbody}}
   :content_type application/json
   :save result
%}

Your coupon code is: {{result.Value}}
```
{% endraw %}

1. Add your authorization header Talon.One API key to the request. 
2. Add the coupon code details mentioned in step 1 to the request body. 
3. Store the Talon.One result. Use the `save` parameter at the end to store the Talon.One response as a Braze variable. 
4. Show the value of the code in the message. Use Liquid to show the value of the generated message.

{% alert tip %}
You can access the coupon code with {% raw %} `{{result.Value}}` {% endraw %}, which will return the generated value similar to `44D4-U4PL`. Note that the Liquid is case sensitive and the "V" must be capitalized in {% raw %} `{{result.Value}}` {% endraw %}.
{% endalert %}

## Additional resources

Visit the following articles for additional resources on the Talon.One integration:
- [Creating referrals through Braze](https://docs.talon.one/docs/dev/tutorials/creating-referrals-braze/)
- [Fetching a loyalty ledge in Braze](https://docs.talon.one/docs/dev/tutorials/receiving-loyalty-ledger-braze)

## Troubleshooting

Ensure your Connected Content syntax is correct (as in, using the right Liquid tags for either a Canvas or campaign, as well as referencing the right value in the `json` response).

Be aware of the 500 messages per minute rate limit you want to implement into the Braze campaign or Canvas. If the rate limit is not respected, it cannot be guaranteed that every code will be generated or the response will be there in time.
